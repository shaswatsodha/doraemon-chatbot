<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat with Doraemon</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>

  <header>
    <h1>PocketBot</h1>
    <p>Ask me anything, Nobita! Doraemon might have a gadget for it!</p>
  </header>

  <main>
    <section class="chat-container">
      <h2>Talk to the Future!</h2>

      <!-- Doraemon GIF area -->
      <div class="dora-wrapper">
        <img id="doraGif" src="/static/sitting.gif" alt="Doraemon" class="dora-gif">
      </div>

      <!-- Voice toggle bar -->
      <div class="voice-settings">
        <label for="voiceToggle">Voice:</label>
        <input type="checkbox" id="voiceToggle" checked>
      </div>

      <!-- Quick action chips -->
      <div class="quick-actions">
        <button type="button" data-action="weather">‚òÄ Weather</button>
        <button type="button" data-action="timer">‚è± Timer</button>
        <button type="button" data-action="volume">üîä Volume</button>
        <button type="button" data-action="brightness">üí° Brightness</button>
      </div>

      <!-- Chat box -->
      <div class="chat-box" id="chatBox">
        <!-- JS will inject the first Doraemon message -->
      </div>

      <!-- Custom action modal for values -->
      <div id="actionModal" class="action-modal hidden">
        <div class="action-modal-content">
          <h3 id="actionTitle">Set value</h3>
          <p id="actionHint">Enter a value for Doraemon‚Äôs gadget:</p>
          <input type="number" id="actionInput" min="0" max="100">
          <div class="action-modal-buttons">
            <button type="button" id="actionCancel">Cancel</button>
            <button type="button" id="actionOk">OK</button>
          </div>
        </div>
      </div>

      <!-- Alarm bar + sound for timer -->
      <div id="alarmBar" class="alarm-bar hidden">
        <span>‚è∞ Time-Time Clock is ringing!</span>
        <button type="button" id="alarmStopBtn">Dismiss</button>
      </div>

      <audio id="alarmSound" src="/static/alarm.mp3" preload="auto" loop></audio>

      <!-- Input form -->
      <form id="chatForm">
        <input
          type="text"
          id="userInput"
          placeholder="Type or click the mic to speak..."
          autocomplete="off"
          required
        >
        <button type="button" id="micButton" class="btn-action" title="Speak to Doraemon">
          üé§
        </button>
        <button type="submit" class="btn-action btn-submit">
          Send
        </button>
      </form>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 PocketBot</p>
  </footer>

  <script src="/static/script.js"></script>
</body>
</html>
